<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waren Sardne</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.6.347/build/pdf.min.js"></script>

</head>
<body style="text-align: center;">

<header>
    <img src="file.jpg" alt="Header Image" class="header-image">
    <h1>Waren Sardne</h1>

    <!-- Old Navbar (will be hidden on small screens) -->
    <div class="navbar" id="oldNavbar">
        <a href="index.html">Om språket i Waren Sardne</a>
        <a href="page3.html">Se på forskjelige Waren Sardne aviser</a>
        <a href="page.html">Foto galeri</a>
        <a href="page2.html">Kilder</a>
    </div>  

    <!-- New Curtain Menu -->
    <div id="myNav" class="overlay">
        <!-- Button to close the overlay navigation -->
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>

        <!-- Overlay content -->
        <div class="overlay-content">
            <a href="index.html">Om språket i Waren Sardne</a>
            <a href="page3.html">Se på forskjelige Waren Sardne aviser</a>
            <a href="page.html">Foto galeri</a>
            <a href="page2.html">Kilder</a>
        </div>
    </div>

    <!-- Button to open the curtain menu (Initially hidden) -->
    <span id="menuButton" onclick="openNav()" style="display: none;">Åpne meny</span>
</header>
    <main>
        <h3 style="font-family: 'ModernTypewriter', sans-serif;">Arkiv over forskjellige Waren Sardne aviser.</h3>
        <p style="font-family: 'ModernTypewriter', sans-serif;">Dette er en oversikt over 5 forskjellige aviser fra Waren Sardne. Trykk på bilde av avisen og bla ned, da kan du lese gjennom den valgte avisen.</p>

        <!-- Archive Section -->
        <section id="archive" class="centered">
            <div id="archiveItems">
                <div class="archive-item">
                    <div class="archive-content">
                        <div class="title">Lørdag 15. januar 1910</div>
                        <div class="description">Dette er første utgaven av avisen Waren Sardne.</div>
                    </div>
                    <!-- Custom thumbnail image with data-pdf attribute -->
                    <div class="image-overlay">
                        <img src="Bilde_2024-09-10_195743723.png" data-pdf="2024-09-10T1646_NB_generated.pdf" alt="First Edition Thumbnail" class="archive-image">
                    </div>
                </div>
                <div class="archive-item">
                    <div class="archive-content">
                        <div class="title">Lørdag 12. November 1910</div>
                        <div class="description"></div>
                    </div>
                    <div class="image-overlay">
                        <img src="Bilde_2024-09-10_195708388.png" data-pdf="2024-09-10T1650_NB_generated.pdf" alt="Item 2 Picture" class="archive-image">
                    </div>
                </div>
                <div class="archive-item">
                    <div class="archive-content">
                        <div class="title">Fredag 20. Oktober 1922</div>
                        <div class="description"></div>
                    </div>
                    <div class="image-overlay">
                        <img src="Bilde_2024-09-10_195631608.png" data-pdf="2024-09-10T1652_NB_generated.pdf" alt="Item 3 Picture" class="archive-image">
                    </div>
                </div>
                <div class="archive-item">
                    <div class="archive-content">
                        <div class="title">Torsdag 20. juli 1922</div>
                        <div class="description"></div>
                    </div>
                    <div class="image-overlay">
                        <img src="Bilde_2024-09-10_195537839.png" data-pdf="2024-09-10T1654_NB_generated.pdf" alt="Item 4 Picture" class="archive-image">
                    </div>
                </div>
                <div class="archive-item">
                    <div class="archive-content">
                        <div class="title">Lørdag 1. Oktober 1927</div>
                        <div class="description">Dette eksemplaret av Waren Sardne er en av de siste utgitte.</div>
                    </div>
                    <div class="image-overlay">
                        <img src="Bilde_2024-09-10_195425696.png" data-pdf="2024-09-10T1656_NB_generated.pdf" alt="Item 5 Picture" class="archive-image">
                    </div>
                </div>
            </div>
        </section>
        <div id="pdfViewer" class="centered hidden">
            <span class="close-button" onclick="closePDFViewer()"></span>
            <div class="centered-content">
                <iframe id="pdfCanvas" style="width:80%; height:1000px;"></iframe>
            </div>            
        </div>
        
    <button id="closeButton">Avslutt</button>

    </main>
    

    <footer>
        

        <p>&copy; Waren Sardne 2024</p>
    </footer>

    <script>
        window.onload = function() {
            // PDF viewer functionality
            const pdfViewer = document.getElementById('pdfViewer');
            pdfViewer.classList.add('hidden'); // Ensure it's hidden
    
            const pdfCanvas = document.getElementById('pdfCanvas');
            const archiveImages = document.querySelectorAll('.archive-image');
    
            // Handle click events for archive images
            archiveImages.forEach(image => {
                image.addEventListener('click', () => {
                    const pdfSrc = image.getAttribute('data-pdf');
                    if (pdfSrc) {
                        pdfCanvas.src = pdfSrc;
                        pdfViewer.classList.remove('hidden'); // Show the PDF viewer
                    } else {
                        console.error('No PDF source found for this image.');
                    }
                });
            });
    
            // Function to close the PDF viewer
            window.closePDFViewer = function() {
                pdfViewer.classList.add('hidden'); // Hide the viewer when the close button is clicked
                pdfCanvas.src = ''; // Clear the source
            };
    
            // Attach close button to the function
            document.getElementById('closeButton').addEventListener('click', closePDFViewer);
    
            // Navbar toggle functionality
            const width = window.innerWidth;
            const oldNavbar = document.getElementById('oldNavbar');
            const menuButton = document.getElementById('menuButton');
    
            if (width <= 768) {
                oldNavbar.style.display = 'none';  // Hide the old navbar on mobile
                menuButton.style.display = 'inline';  // Show the button to open the new menu
            } else {
                oldNavbar.style.display = 'block';  // Show the old navbar on larger screens
                menuButton.style.display = 'none';  // Hide the button on larger screens
                closeNav();  // Close the overlay if open
            }
        };
    
        // Functions for curtain menu
        function openNav() {
            document.getElementById("myNav").style.width = "100%";
        }
    
        function closeNav() {
            document.getElementById("myNav").style.width = "0%";
        }

            /* Function to toggle navbars based on screen size */
    function toggleNavbars() {
        const width = window.innerWidth;
        const oldNavbar = document.getElementById('oldNavbar');
        const menuButton = document.getElementById('menuButton');

        if (width <= 768) {
            oldNavbar.style.display = 'none';  // Hide the old navbar on mobile
            menuButton.style.display = 'inline';  // Show the button to open the new menu
        } else {
            oldNavbar.style.display = 'block';  // Show the old navbar on larger screens
            menuButton.style.display = 'none';  // Hide the button on larger screens
            closeNav();  // Close the overlay if open
        }
    }

    // Call toggleNavbars on load and resize
    window.onresize = toggleNavbars;
    toggleNavbars(); // Call initially to set correct state on page load


</script>
<!-- Add the PDF.js library script tag -->
<script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>

<!-- Update the iframe to use PDF.js -->
<div id="pdfViewer" class="centered hidden">
    <span class="close-button" onclick="closePDFViewer()"></span>
    <div class="centered-content">
        <div id="pdfCanvas" style="width:80%; height:1000px;"></div>
    </div>
</div>

<!-- Update the JavaScript code to use PDF.js -->
<script>
    // ...
    const pdfCanvas = document.getElementById('pdfCanvas');
    const archiveImages = document.querySelectorAll('.archive-image');

    archiveImages.forEach(image => {
        image.addEventListener('click', () => {
            const pdfSrc = image.getAttribute('data-pdf');
            if (pdfSrc) {
                // Use PDF.js to render the PDF file
                const pdfDoc = new PDFDocument();
                pdfDoc.load(pdfSrc).then(pdf => {
                    const pdfPage = pdf.getPage(1);
                    const scale = 1.5;
                    const viewport = pdfPage.getViewport({ scale: scale });
                    const canvas = document.getElementById('pdfCanvas');
                    const context = canvas.getContext('2d');
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    pdfPage.render({ canvasContext: context, viewport: viewport });
                });
                pdfViewer.classList.remove('hidden'); // Show the PDF viewer
            } else {
                console.error('No PDF source found for this image.');
            }
        });
    });
    // ...
</script>


</body>
</html>


